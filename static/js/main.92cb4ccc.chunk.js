(this["webpackJsonpgen-alg-min"]=this["webpackJsonpgen-alg-min"]||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){},27:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),s=n.n(r),i=n(15),u=n.n(i),c=(n(23),n(24),n(3)),o=n(2),l=n(16),j=n.n(l),p=(n(26),n(27),n(7)),b=n(4),h=n(5),m=n(8),d=n(6),f=function(e){return Math.round(1e4*(e+Number.EPSILON))/1e4},O=function(e){var t=document.createElement("li");return t.textContent=e,t.style="background-color: ".concat("hsl("+360*Math.random()+","+(25+70*Math.random())+"%,"+(85+10*Math.random())+"%)"),t},g=function(e){var t=document.createElement("div");return t.textContent=e,t.className="best-score",t},v=function(e){if(document.querySelector("#results").appendChild(O("Gen ".concat(e.currentGeneration,", Best fitness: ").concat(e.top.fitness,", \n\n          x1=").concat(f(e.top.getDna(0)[0]),", x2=").concat(f(e.top.getDna(1)[0])))),e.currentGeneration===e.maxGenerations){var t=document.querySelector("#metadata");t.appendChild(g("Gen ".concat(e.currentGeneration))),t.appendChild(g("Best fitness: ".concat(e.top.fitness))),t.appendChild(g("\n    x1=".concat(f(e.top.getDna(0)[0]),", x2=").concat(f(e.top.getDna(1)[0]))))}console.log("Best fitness: "+e.top.fitness,e.top.getDna(0).join(""),e.top.getDna(1).join(""))},x=function(e,t){return Array.from({length:t-e+1},(function(t,n){return e+n}))},y=n(10),F=y.Simulation,C=y.Individual,S=y.Chromosome,M=function(e,t,n,a,r,s){document.querySelector("#results").innerHTML="";var i=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"calculateFitness",value:function(e,t){return t.testedFun(e.getDna(0)[0],e.getDna(1)[0])/t.target}},{key:"shouldFinish",value:function(e){return e.fitness>=.9999&&e.fitness<=1.0001}}]),n}(F),u=function(e,t){return Math.random()*(t-e)+e},c=new S(1,(function(){return u(parseFloat(n[0]),parseFloat(n[1]))})),o=new S(1,(function(){return u(parseFloat(a[0]),parseFloat(a[1]))})),l=new i({prototype:new C([c,o]),data:{target:e,testedFun:t},mutationRate:parseFloat(r.mutationRate),popSize:parseFloat(r.popSize),numParents:parseFloat(r.numParents),maxGenerations:parseFloat(r.maxGenerations),elitism:r.elitism,selection:y.ga.Selection.rouletteWheel,crossover:y.ga.Crossover.multipoint,onCalculateFitness:function(e){v(e),e.history.some((function(t){return t.topFitness===e.top.fitness}))||s((function(t){return[].concat(Object(p.a)(t),[e.top])}))}});l.start(),console.log(l)},w=n(10),z=w.Simulation,P=w.Individual,k=w.Chromosome,I=function(e,t,n,a,r,s){document.querySelector("#results").innerHTML="";var i=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"calculateFitness",value:function(e,t){return 1/t.testedFun(e.getDna(0)[0],e.getDna(1)[0])}},{key:"shouldFinish",value:function(e){return 1===e.fitness}}]),n}(z),u=function(e,t){return Math.random()*(t-e)+e},c=new k(1,(function(){return u(parseFloat(n[0]),parseFloat(n[1]))})),o=new k(1,(function(){return u(parseFloat(a[0]),parseFloat(a[1]))}));new i({prototype:new P([c,o]),data:{target:e,testedFun:t},mutationRate:parseFloat(r.mutationRate),popSize:parseFloat(r.popSize),numParents:parseFloat(r.numParents),maxGenerations:parseFloat(r.maxGenerations),elitism:r.elitism,optimizer:w.ga.Optimizer.maximizer,selection:w.ga.Selection.rouletteWheel,crossover:w.ga.Crossover.singlePoint,onCalculateFitness:function(e){v(e),e.history.some((function(t){return t.topFitness===e.top.fitness}))||s((function(t){return[].concat(Object(p.a)(t),[e.top])}))}}).start()},G=n(10),N=G.Simulation,D=G.Individual,R=G.Chromosome,q=function(e,t,n,a,r,s){document.querySelector("#results").innerHTML="";var i=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"calculateFitness",value:function(e,t){return t.testedFun(e.getDna(0)[0],e.getDna(1)[0],10)/t.target}},{key:"shouldFinish",value:function(e){return e.fitness>=.9999&&e.fitness<=1.0001}}]),n}(N),u=function(e,t){return Math.random()*(t-e)+e},c=new R(1,(function(){return u(parseFloat(n[0]),parseFloat(n[1]))})),o=new R(1,(function(){return u(parseFloat(a[0]),parseFloat(a[1]))}));new i({prototype:new D([c,o]),data:{target:e,testedFun:t},mutationRate:parseFloat(r.mutationRate),popSize:parseFloat(r.popSize),numParents:parseFloat(r.numParents),maxGenerations:parseFloat(r.maxGenerations),elitism:r.elitism,selection:G.ga.Selection.rouletteWheel,crossover:G.ga.Crossover.multipoint,onCalculateFitness:function(e){v(e),e.history.some((function(t){return t.topFitness===e.top.fitness}))||s((function(t){return[].concat(Object(p.a)(t),[e.top])}))}}).start()},L=n(10),T=L.Simulation,E=L.Individual,H=L.Chromosome,A=function(e,t,n,a,r,s){document.querySelector("#results").innerHTML="";var i=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"calculateFitness",value:function(e,t){return 1/t.testedFun(e.getDna(0)[0],e.getDna(1)[0])}},{key:"shouldFinish",value:function(e){return e.fitness>=.9999&&e.fitness<=1.0001}}]),n}(T),u=function(e,t){return Math.random()*(t-e)+e},c=new H(1,(function(){return u(parseFloat(n[0]),parseFloat(n[1]))})),o=new H(1,(function(){return u(parseFloat(a[0]),parseFloat(a[1]))}));new i({prototype:new E([c,o]),data:{target:e,testedFun:t},mutationRate:parseFloat(r.mutationRate),popSize:parseFloat(r.popSize),optimizer:L.ga.Optimizer.maximizer,numParents:parseFloat(r.numParents),maxGenerations:parseFloat(r.maxGenerations),elitism:r.elitism,selection:L.ga.Selection.rouletteWheel,crossover:L.ga.Crossover.multipoint,onCalculateFitness:function(e){v(e),e.history.some((function(t){return t.topFitness===e.top.fitness}))||s((function(t){return[].concat(Object(p.a)(t),[e.top])}))}}).start()},B=n(17),W=n.n(B),J=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),n=t[0],s=t[1],i=Object(r.useState)("easom"),u=Object(o.a)(i,2),l=u[0],p=u[1],b=Object(r.useState)([-1.5,4]),h=Object(o.a)(b,2),m=h[0],d=h[1],f=Object(r.useState)([-3,4]),O=Object(o.a)(f,2),g=O[0],v=O[1],y=Object(r.useState)([-5,5]),F=Object(o.a)(y,2),C=F[0],S=F[1],w=Object(r.useState)([-5,5]),z=Object(o.a)(w,2),P=z[0],k=z[1],G=Object(r.useState)([0,Math.PI]),N=Object(o.a)(G,2),D=N[0],R=N[1],L=Object(r.useState)([0,Math.PI]),T=Object(o.a)(L,2),E=T[0],H=T[1],B=Object(r.useState)([-100,100]),J=Object(o.a)(B,2),X=J[0],Y=J[1],_=Object(r.useState)([-100,100]),K=Object(o.a)(_,2),Q=K[0],U=K[1],V=Object(r.useState)([-100,100]),Z=Object(o.a)(V,2),$=Z[0],ee=Z[1],te=Object(r.useState)([-100,100]),ne=Object(o.a)(te,2),ae=ne[0],re=ne[1],se=Object(r.useState)({mutationRate:.3,popSize:100,numParents:2,maxGenerations:100,elitism:!0}),ie=Object(o.a)(se,2),ue=ie[0],ce=ie[1],oe=["mcCormick","eggCrate","michalewicz","easom","bohachevsky"],le=function(e,t){return Math.sin(e+t)+(e-t)*(e-t)+1+2.5*t-1.5*e},je=function(e,t){return e*e+t*t+25*(Math.sin(e)*Math.sin(e)+Math.sin(t)*Math.sin(t))},pe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=0,r=Math.sin(e*e/Math.PI);a+=Math.sin(e)*Math.pow(r,2*n);var s=Math.sin(2*t*t/Math.PI);return-(a+=Math.sin(t)*Math.pow(s,2*n))},be=function(e,t){return-Math.cos(e)*Math.cos(t)*Math.exp(-Math.pow(e-Math.PI,2)-Math.pow(t-Math.PI,2))},he=function(e,t){return Math.pow(e,2)+2*Math.pow(t,2)-.3*Math.cos(3*Math.PI*e)-.4*Math.cos(4*Math.PI*t)+.7};return Object(a.jsxs)("div",{className:"main",children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("h2",{children:"Select function"}),Object(a.jsx)(j.a,{options:oe,onChange:function(e){s([]),document.querySelector("#metadata").innerHTML="[Results]",document.querySelector("#results").innerHTML="",p(e.value)},value:l,placeholder:"Select function"})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("h3",{children:"Domain"}),"mcCormick"===l&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("label",{children:["x1",Object(a.jsx)("input",{type:"number",value:m[0],onChange:function(e){return d([e.target.value,m[1]])}}),Object(a.jsx)("input",{type:"number",value:m[1],onChange:function(e){return d([m[0],e.target.value])}})]}),Object(a.jsxs)("label",{children:["y",Object(a.jsx)("input",{type:"number",value:g[0],onChange:function(e){return v([e.target.value,g[0]])}}),Object(a.jsx)("input",{type:"number",value:g[1],onChange:function(e){return v([g[0],e.target.value])}})]}),Object(a.jsxs)("h5",{children:["Ideal fitness = ",Object(a.jsx)("b",{children:"1"})]})]}),"eggCrate"===l&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("label",{children:["x1",Object(a.jsx)("input",{type:"number",value:C[0],onChange:function(e){return S([e.target.value,C[1]])}}),Object(a.jsx)("input",{type:"number",value:C[1],onChange:function(e){return S([C[0],e.target.value])}})]}),Object(a.jsxs)("label",{children:["y",Object(a.jsx)("input",{type:"number",value:P[0],onChange:function(e){return k([e.target.value,P[0]])}}),Object(a.jsx)("input",{type:"number",value:P[1],onChange:function(e){return k([P[0],e.target.value])}})]}),Object(a.jsxs)("h5",{children:["Ideal fitness = ",Object(a.jsx)("b",{children:"highest"})]})]}),"michalewicz"===l&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("label",{children:["x1",Object(a.jsx)("input",{type:"number",value:D[0],onChange:function(e){return R([e.target.value,D[1]])}}),Object(a.jsx)("input",{type:"number",value:D[1],onChange:function(e){return R([D[0],e.target.value])}})]}),Object(a.jsxs)("label",{children:["y",Object(a.jsx)("input",{type:"number",value:E[0],onChange:function(e){return H([e.target.value,E[0]])}}),Object(a.jsx)("input",{type:"number",value:E[1],onChange:function(e){return H([E[0],e.target.value])}})]}),Object(a.jsxs)("h5",{children:["Ideal fitness = ",Object(a.jsx)("b",{children:"1"})]})]}),"easom"===l&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("label",{children:["x1",Object(a.jsx)("input",{type:"number",value:X[0],onChange:function(e){return Y([e.target.value,X[1]])}}),Object(a.jsx)("input",{type:"number",value:X[1],onChange:function(e){return Y([X[0],e.target.value])}})]}),Object(a.jsxs)("label",{children:["y",Object(a.jsx)("input",{type:"number",value:Q[0],onChange:function(e){return U([e.target.value,Q[0]])}}),Object(a.jsx)("input",{type:"number",value:Q[1],onChange:function(e){return U([Q[0],e.target.value])}})]}),Object(a.jsxs)("h5",{children:["Ideal fitness = ",Object(a.jsx)("b",{children:"1"})]})]}),"bohachevsky"===l&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("label",{children:["x1",Object(a.jsx)("input",{type:"number",value:X[0],onChange:function(e){return ee([e.target.value,$[1]])}}),Object(a.jsx)("input",{type:"number",value:$[1],onChange:function(e){return ee([$[0],e.target.value])}})]}),Object(a.jsxs)("label",{children:["y",Object(a.jsx)("input",{type:"number",value:ae[0],onChange:function(e){return re([e.target.value,ae[0]])}}),Object(a.jsx)("input",{type:"number",value:ae[1],onChange:function(e){return re([ae[0],e.target.value])}})]}),Object(a.jsxs)("h5",{children:["Ideal fitness = ",Object(a.jsx)("b",{children:"highest"})]})]})]}),Object(a.jsxs)("div",{className:"config",children:[Object(a.jsx)("div",{className:"metadata",children:Object(a.jsx)("div",{className:"metadata-best",id:"metadata",children:"[Results]"})}),Object(a.jsxs)("div",{className:"settings",children:[Object(a.jsxs)("label",{children:["Mutation rate",Object(a.jsx)("input",{type:"number",value:ue.mutationRate,onChange:function(e){return ce(Object(c.a)(Object(c.a)({},ue),{},{mutationRate:e.target.value}))}})]}),Object(a.jsxs)("label",{children:["Population size",Object(a.jsx)("input",{type:"number",value:ue.popSize,onChange:function(e){return ce(Object(c.a)(Object(c.a)({},ue),{},{popSize:e.target.value}))}})]}),Object(a.jsxs)("label",{children:["Number of parents",Object(a.jsx)("input",{type:"number",value:ue.numParents,onChange:function(e){return ce(Object(c.a)(Object(c.a)({},ue),{},{numParents:e.target.value}))}})]}),Object(a.jsxs)("label",{children:["Max generations",Object(a.jsx)("input",{type:"number",value:ue.maxGenerations,onChange:function(e){return ce(Object(c.a)(Object(c.a)({},ue),{},{maxGenerations:e.target.value}))}})]}),Object(a.jsxs)("label",{children:["Elitism",Object(a.jsx)("input",{type:"checkbox",checked:ue.elitism,value:ue.elitism,name:"elitism",onChange:function(e){return ce(Object(c.a)(Object(c.a)({},ue),{},{elitism:!ue.elitism}))}})]})]})]}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("button",{onClick:function(){return s([]),document.querySelector("#metadata").innerHTML="[Results]",l===oe[0]&&M(-1.9133,le,m,g,ue,s),l===oe[1]&&I(0,je,C,P,ue,s),l===oe[2]&&q(-1.8013,pe,D,E,ue,s),l===oe[3]&&M(-1,be,X,Q,ue,s),void(l===oe[4]&&A(0,he,$,ae,ue,s))},children:"Run algorithm"})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"metadata-plot",id:"plot",children:[Object(a.jsx)(W.a,{data:function(e){var t,a,r,s,i,u;e===oe[0]&&(t=x(-1.5,4),a=x(-3,4),r=le),e===oe[1]&&(t=x(-20,20),a=x(-20,20),r=je),e===oe[2]&&(t=x(-20,5),a=x(-20,5),r=pe),e===oe[3]&&(t=x(-20,20),a=x(-20,20),r=be),e===oe[4]&&(t=x(-20,20),a=x(-20,20),r=he);var c=[];return t.forEach((function(e){var t=[];a.forEach((function(n){t.push(r(e,n))})),c.push(t)})),e===oe[0]?(s=n.map((function(e){return e.dna[0].genes[0]+2})),i=n.map((function(e){return e.dna[1].genes[0]+2.5})),u=n.map((function(e){return r(e.dna[0].genes[0],e.dna[1].genes[0])}))):e===oe[2]?(s=n.map((function(e){return e.dna[0].genes[0]+6.5})),i=n.map((function(e){return e.dna[1].genes[0]+13})),u=n.map((function(e){return r(e.dna[0].genes[0],e.dna[1].genes[0])}))):(s=n.map((function(e){return e.dna[0].genes[0]+20})),i=n.map((function(e){return e.dna[1].genes[0]+20})),u=n.map((function(e){return r(e.dna[0].genes[0],e.dna[1].genes[0])}))),[{z:c,type:"surface"},{x:s,y:i,z:u,type:"scatter3d"}]}(l),layout:{width:800,height:700,title:"".concat(l," plot with unique TOP individuals")}}),Object(a.jsx)("h5",{children:"Note: Axis X and Axis Y on the chart are shifted so that the plot always starts in [0,0] (only positive values)."})]})}),Object(a.jsx)("ul",{className:"results",id:"results"})]})};var X=function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(J,{}),Object(a.jsxs)("footer",{className:"App-footer",children:[Object(a.jsx)("span",{children:"Szymon Galazka 2020"}),Object(a.jsx)("a",{className:"App-link",href:"https://github.com/SzymonGalazka/gen-alg-min",target:"_blank",rel:"noopener noreferrer",children:"Repository link"})]})]})},Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),s(e),i(e)}))};u.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(X,{})}),document.getElementById("root")),Y()}},[[45,1,2]]]);
//# sourceMappingURL=main.92cb4ccc.chunk.js.map